// This module is used in the following assemblies:

// * migrating/checklists/ossm-kiali-differences-assembly.adoc

:_mod-docs-content-type: ASSEMBLY
[id="ossm-migrating-kiali-differences"]
= Kiali differences for {SMProductName} 3
include::_attributes/common-attributes.adoc[]
:context: ossm-migrating-kiali-differences

toc::[]

{kialiproduct} with {SMProductName} 3 introduces the following changes:

* New topology graphs
* Deprecated configuration settings
* Renamed configuration settings

[id="new-topology-graphs_{context}"]
== New topology graphs

The **Traffic Page Graph** page has been reorganized and built using Patternfly topology with a new topology view showcasing the mesh infrastructure.

[id="deprecated-config-settings_{context}"]
== Deprecated configuration settings

To control which namespaces are accessible or visible to users in {smproduct} 3, Kiali relies on `discoverySelectors`.

By default, `deployment.cluster_wide_access=true` is enabled, granting Kiali cluster-wide access to all namespaces in the local cluster. If you are migrating a cluster-wide deployment with Kiali, you must remove the following deprecated and unavailable configuration settings from your Kiali custom resource (CR):

* `spec.deployment.accessible_namespaces`
* `api.namespaces.exclude`
* `api.namespaces.include`
* `api.namespaces.label_selector_exclude`
* `api.namespaces.label_selector_include`

If you are are using discovery selectors in Istio to restrict the namespaces that `Istiod` watches, then those must match the discovery selectors in your Kiali CR.

[id="renamed-config-settings_{context}"]
== Renamed configuration settings

The following configuration settings have been renamed:

[cols="1,1"]
|===
|Old configuration |New configuration

|`external_service.grafana.in_cluster_url`
|`external_service.grafana.internal_url`

|`external_service.grafana.url`
|`external_service.grafana.external_url`

|`external_service.tracing.in_cluster_url`
|`external_service.tracing.internal_url`

|`external_service.tracing.url`
|`external_service.tracing.external_url`
|===

These changes reflect evolving capabilities and configuration standards of Kiali within {SMProduct} 3.
