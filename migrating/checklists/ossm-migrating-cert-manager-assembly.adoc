// Module included in the following assemblies:
//
// * service-mesh-docs-main/about/ossm-migrating-migration-guides-assembly.adoc

:_mod-docs-content-type: ASSEMBLY
[id="ossm-migrating-cert-manager-assembly"]
= Migrating from 2.6 to 3.0 with cert-manager

If you are using {SMProductName} with the cert-manager tool, there are configurations changes you must do first before you can migrate your deployment and workloads to {SMProduct} 3. The configuration changes

[id="multitenant-deployment-with-the-cert-manager-tool_{context}"]
== Multitenant deployment with the cert-manager tool

If you have a multitenant deployment with the cert-manager tool, you must do the following:

. Update the `istio-csr` deployment to include your {SMProduct} 3 control plane:
+
.Example
[source,terminal]
----
  helm upgrade cert-manager-istio-csr jetstack/cert-manager-istio-csr \
      --install \
      --reuse-values \
      --namespace istio-system \
      --wait \
      --set "app.istio.revisions={basic,ossm3-v1-24-1}" <1>
----
+
<1> The `app.istio.revisions` field needs to include your {SMProduct} 3.0 control plane revision _before_ you create your `Istio` resource to ensure that proxies can properly communicate with the {SMProduct} 3.0 control plane.

. Migrate your multitenant deployment <insert exref> Migrating mulitenant deployments
//PR for migrating multitenant https://github.com/openshift/openshift-docs/pull/86917
//when PR 86917 is merged, update the exref here accordingly

[id="migrating-cluster-wide-deployment-with-the-cert-manager-tool_{context}"]
== Migrating cluster-wide deployment with the cert-manager tool

If you have a cluster-wide deployment, continue with this procedure.

include::modules/ossm-migrating-with-cert-manager.adoc[leveloffset=+1]

.Next steps

Once you have completed the steps for migrating the cert-manager tool, you can start migrating your multitenant or cluster-wide deployment.

* <insert exref> Migrating cluster-wide deployments