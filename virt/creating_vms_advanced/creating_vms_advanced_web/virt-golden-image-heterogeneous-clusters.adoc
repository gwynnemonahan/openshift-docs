:_mod-docs-content-type: ASSEMBLY
[id="virt-golden-image-heterogeneous-clusters"]
= Heterogeneous cluster support
include::_attributes/common-attributes.adoc[]
:context: virt-golden-image-heterogeneous-clusters

toc::[]

:FeatureName: Golden image support for heterogeneous clusters
include::snippets/technology-preview.adoc[]

A heterogeneous cluster is a cluster where nodes have differing architectures. Heterogeneous clusters promote optimal compute resource usage by mixing different types of hardware in one cluster. This allows workloads to be better matched to hardware intended for the workload task instead of general purpose compute platforms. For example, in a heterogeneous cluster, GPU and general purpose compute resources could be combined and workloads assigned to the appropriate hardware.

[IMPORTANT]
====
If golden image support is disabled in a heterogeneous cluster, you can encounter inconsistencies between node and image architectures. This happens when images are used for virtual machine creation that do not match the node architecture. This can lead to the failure of virtual machine boot up or virtual machines that do not run as expected. The warning level alert `HCOMultiArchGoldenImagesDisabled` is produced when this feature is not enabled in a heterogeneous cluster. 
====

If you have a heterogeneous cluster but do not want to enable multiple architecture support, see xref:../../../virt/creating_vms_advanced/creating_vms_advanced_web/virt-golden-image-heterogeneous-clusters.adoc#virt-modify-workload-node-heterogeneous-cluster_virt-golden-image-heterogeneous-clusters[Modifying workloads node placement in a hetergeneous cluster] for the procedure to limit node placement to a specific architecture.

Golden image support for heterogeneous clusters extends golden image support in the following areas:

* Enables VM creators to deploy persistent virtual machines with specific architectures.
* Enables VM creators to define custom golden images that support heterogenous clusters.

The same golden image can be used with nodes of different architectures if the boot image supports the required architectures. For example, a golden image that supports both ARM and AMD architectures can be used with both types of nodes. 

Golden image support for heterogeneous clusters is not enabled by default. For the procedure to enable this feature, see xref:../../../virt/creating_vms_advanced/creating_vms_advanced_web/virt-golden-image-heterogeneous-clusters.adoc#virt-enabling-heterogeneous-clusters_virt-golden-image-heterogeneous-clusters[Enabling hetergenous cluster support]

include::modules/virt-enabling-heterogeneous-clusters.adoc[leveloffset=+1]

include::modules/virt-mod-golden-image-heterogeneous-clusters.adoc[leveloffset=+1]

include::modules/virt-add-custom-golden-image-heterogeneous-cluster.adoc[leveloffset=+1]

include::modules/virt-modify-workload-node-heterogeneous-cluster.adoc[leveloffset=+1]

