// Module included in the following assemblies:
//
// * /virt/managing_vms/advanced_vm_management/virt-NUMA-topology.adoc

:_mod-docs-content-type: PROCEDURE
[id="virt-disable-kubervirt-hotplug-ratio_{context}"]
= Disabling hot plugging for all VMs on a cluster

[role="_abstract"]
If you are a cluster administrator and want to disable hot plugging for an entire cluster, you must modify the `spec.configuration.kubevirtConfiguration.developerConfiguration.maxHotplugRatio` setting in the `HyperConverged` custom resource (CR).

.Prerequisites

* You have installed the {oc-first}.
* You have installed the {CNVOperatorDisplayName}.

.Procedure

. Modify the `HyperConverged` CR and set the `maxHotplugRatio` value to `1.0`:
+
[source,yaml]
----
apiVersion: hco.kubevirt.io/v1beta1
kind: HyperConverged
metadata:
  name: kubevirt-hyperconverged
  namespace: kubevirt-hyperconverged
spec:
  # ...
  kubevirtConfiguration:
    developerConfiguration:
      maxHotplugRatio: 1.0
# ...
----

. Apply the changes to the `HyperConverged` CR by running the following command:
+
[source,terminal]
----
$ oc apply -f <filename>.yaml
----

.Verification

. Check that you have configured the `maxHotplugRatio` value correctly, by running the following command:
+
[source,terminal]
----
$ oc get hyperconverged -n openshift-cnv -o jsonpath='{.spec.liveUpdateConfiguration.maxHotplugRatio}'
----
+
If the configuration was successful, the output is the `maxHotplugRatio` value that you set in the previous procedure:
+
*Example output*
+
[source,terminal]
----
1.0
----
