// Module included in the following assemblies:
// update/ossm-updating-openshift-service-mesh.adoc

:_mod-docs-content-type: Concept
[id="attach-workloads-to-control-plane_{context}"]
= Attach workloads to the control plane
:context: ossm-attach-workloads-to-control-plane

When {istio} is configured to use the `InPlace` strategy, the `IstioRevision` resource that the Operator creates always has the same name as the {istio} resource. To attach the workloads to a control plane deployed using the `InPlace` strategy, you can set the `istio.io/rev` namespace label to the name of the `IstioRevision`.

.Example istio.io namespace label to attach workloads to a mesh
[source,terminal]
----
$ oc label namespace <namespace-name> istio.io/rev=<revision-name>
----

Alternatively, you can apply the label to the workload pods by modifying the pod template in deployment resource.

.Example pod template to attach workloads to a mesh
[source,yaml, subs="attributes,verbatim"]
----
apiVersion: apps/v1
kind: Deployment
spec:
  template:
    metadata:
      labels:
        istio.io/rev: <revision-name>
----

If the revision name is `default`, then you can attach the workloads to the revision by labeling the namespace with the label `istio-injection: enabled`.

.Example istio-injection label to attach workloads to a mesh
[source,terminal]
----
oc label namespace <namespace-name> istio-injection=enabled
----
